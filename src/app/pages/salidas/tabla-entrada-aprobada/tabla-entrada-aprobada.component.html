<div class="col-lg-12">
  <mat-card>
    <mat-card-title>
      <!-- <h1>{{'GLOBAL.consultar_entrada' | translate}}</h1> -->
      Registrar Salida
    </mat-card-title>
    <mat-card-content>
      <!-- CARD PARA MOSTRAR LAS SOLICITUDES *ngIf="!detalle" -->
      <!-- <p class="h4 pb-4" *ngIf="!detalle">{{'GLOBAL.mensaje_consulta_entrada' | translate}}</p> -->
      <p class="h4 pb-4" *ngIf="!detalle">
        En la siguiente tabla seleccione la entrada para poder generar la salida correspondiente
      </p>

      <ng2-smart-table [settings]="settings" [source]="source" (custom)="onCustom($event)" *ngIf="!detalle">
      </ng2-smart-table>

      <nb-accordion *ngIf="detalle">
        <nb-accordion-item [expanded]="true">
          <nb-accordion-item-header class="pb-4">{{'GLOBAL.detalle_entrada' | translate}}</nb-accordion-item-header>
          <nb-accordion-item-body>
            <div *ngIf="detalle" class="container">

              <!-- ENTRADA -->
              <div class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Entrada</strong>: {{ entradaEspecifica.Consecutivo }}</p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Tipo de Entrada:</strong>
                    {{ entradaEspecifica.TipoEntradaId.Nombre }}</p>
                </div>
              </div>

              <!-- ACTA RECIBIDO -->
              <div *ngIf="detalle" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Acta de Recibido N°:</strong>
                    {{ entradaEspecifica.ActaRecibidoId }}</p>
                </div>
              </div>

              <!-- ADQUISICIÓN -->
              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Adquisición'" class="row">
                <div class="col">
                  <p *ngIf="entradaEspecifica.Importacion" class="text-uppercase">
                    <strong>Entrada por Importación:</strong> Si</p>
                  <p *ngIf="!entradaEspecifica.Importacion" class="text-uppercase">
                    <strong>Entrada por Importación:</strong> No</p>
                </div>
              </div>

              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Adquisición'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Contrato N°:</strong> {{ entradaEspecifica.ContratoId }}</p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Tipo Contrato:</strong> {{ contrato.TipoContrato }}</p>
                </div>
              </div>

              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Adquisición'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Ordenador de Gasto:</strong>
                    {{ contrato.OrdenadorGasto.NombreOrdenador }}
                  </p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Cargo:</strong> {{ contrato.OrdenadorGasto.RolOrdenadorGasto }}</p>
                </div>
              </div>

              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Adquisición'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Supervisor:</strong> {{ contrato.Supervisor.Nombre }}</p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Cargo:</strong> {{ contrato.Supervisor.Cargo }}</p>
                </div>
              </div>

              <!-- ELABORACIÓN PROPIA -->
              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Elaboración Propia'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Ordenador de Gasto:</strong>
                    capturar
                  </p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Cargo:</strong>capturar</p>
                </div>
              </div>

              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Elaboración Propia'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Solicitante:</strong> capturar </p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Cargo:</strong> capturar</p>
                </div>
              </div>

              <!-- DONACIÓN -->
              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Donación'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Contrato N°:</strong> {{ entradaEspecifica.ContratoId }}</p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Tipo Contrato:</strong> {{ contrato.TipoContrato }}</p>
                </div>
              </div>

              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Donación'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Ordenador de Gasto:</strong>
                    {{ contrato.OrdenadorGasto.NombreOrdenador }}
                  </p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Cargo:</strong> {{ contrato.OrdenadorGasto.RolOrdenadorGasto }}</p>
                </div>
              </div>

              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Donación'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Supervisor:</strong> {{ contrato.Supervisor.Nombre }}</p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Cargo:</strong> {{ contrato.Supervisor.Cargo }}</p>
                </div>
              </div>
              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Donación'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Solicitante:</strong> capturar </p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Cargo:</strong> capturar</p>
                </div>
              </div>

              <!-- REPOSICIÓN -->
              <!-- HACER CUANDO ESTE LISTO -->

              <!-- SOBRANTE -->
              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Sobrante'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Ordenador de Gasto:</strong>
                    capturar
                  </p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Cargo:</strong>capturar</p>
                </div>
              </div>

              <!-- TERCEROS -->
              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Terceros'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Contrato N°:</strong> {{ entradaEspecifica.ContratoId }}</p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Tipo Contrato:</strong> {{ contrato.TipoContrato }}</p>
                </div>
              </div>

              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Terceros'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Ordenador de Gasto:</strong>
                    {{ contrato.OrdenadorGasto.NombreOrdenador }}
                  </p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Cargo:</strong> {{ contrato.OrdenadorGasto.RolOrdenadorGasto }}</p>
                </div>
              </div>

              <div *ngIf="detalle && entradaEspecifica.TipoEntradaId.Nombre === 'Terceros'" class="row">
                <div class="col">
                  <p class="text-uppercase"><strong>Supervisor:</strong> {{ contrato.Supervisor.Nombre }}</p>
                </div>
                <div class="col">
                  <p class="text-uppercase"><strong>Cargo:</strong> {{ contrato.Supervisor.Cargo }}</p>
                </div>
              </div>

              <!-- OBSERVACIONES -->
              <div *ngIf="detalle" class=" row">
                <div class="col">
                  <p *ngIf="entradaEspecifica.Observacion !== ''" class="text-uppercase">
                    <strong>Observaciones:</strong> {{ entradaEspecifica.Observacion }}</p>
                  <p *ngIf="entradaEspecifica.Observacion === ''" class="text-uppercase">
                    <strong>Observaciones:</strong> N/A</p>
                </div>
              </div>

              <!-- SOPORTES -->
              <label *ngIf="documentoId" class="text-uppercase"><strong>Soportes:</strong></label>
              <button *ngIf="documentoId" mat-button type="button" (click)="loadSoporte()">
                <mat-icon>cloud_download</mat-icon>
              </button>
            </div>
          </nb-accordion-item-body>
        </nb-accordion-item>
      </nb-accordion>

      <!-- CARD PARA MOSTRAR LOS DETALLES DE LAS SOLICITUDES -->
      <!-- <h5 *ngIf="detalle" class="pb-4"></h5> -->
      
      <ngx-tabla-elementos-asignados [entradaId]="consecutivoEntrada" [actaRecibidoId]="actaRecibidoId" *ngIf="detalle"></ngx-tabla-elementos-asignados>

    </mat-card-content>
    <nb-card-footer>
      <div class="pt-4">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="onVolver()"
          *ngIf="detalle">{{'GLOBAL.volver' | translate}}
        </button>
      </div>
    </nb-card-footer>
  </mat-card>
</div>